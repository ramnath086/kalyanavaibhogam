<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalyana Vaibhogam Â® | India's Premier Matrimonial Service Since 2023</title>
    <meta name="description" content="Join India's most trusted matrimony platform with over Thousands of verified profiles. Find your perfect life partner with our intelligent matchmaking system.">
    <meta name="keywords" content="Matrimony, Indian marriage, matchmaking, wedding, bride, groom, shaadi, vivah">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background: #f9f9f9;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .feature-icon {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .active-tab {
            border-bottom: 3px solid #667eea;
            color: #667eea;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center">
                        <span class="text-xl font-bold text-indigo-600">Kalyana Vaibhogam</span>
                    </div>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <a href="#" class="border-indigo-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Home</a>
                        <a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Search</a>
                        <a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Matches</a>
                        <a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Community</a>
                        <a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Pricing</a>
                    </div>
                </div>
                <div class="hidden sm:ml-6 sm:flex sm:items-center">
                    <button onclick="showOTPModal()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium">Login/Register with OTP</button>
                </div>
                <div class="-mr-2 flex items-center sm:hidden">
                    <button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" onclick="toggleMobileMenu()">
                        <span class="sr-only">Open main menu</span>
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-gradient">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="lg:grid lg:grid-cols-12 lg:gap-8">
                <div class="sm:text-center md:max-w-2xl md:mx-auto lg:col-span-6 lg:text-left">
                    <h1 class="text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
                        <span class="block">Trusted by </span>
                        <span class="block text-indigo-600">Many Indian Families</span>
                    </h1>
                    <p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">
                        Join thousands of brides and grooms searching for their soulmates on India's most trusted matrimony platform.
                    </p>
                    <div class="mt-8 sm:max-w-lg sm:mx-auto sm:text-center lg:text-left lg:mx-0">
                        <div class="mt-4 sm:mt-0">
                            <button id="createProfileBtn" class="w-full px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10">Create Free Profile</button>
                        </div>
                        <p class="mt-3 text-sm text-gray-500">
                            Already registered? <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500"> Login here </a>
                        </p>
                    </div>
                </div>
                <div class="mt-12 relative sm:max-w-lg sm:mx-auto lg:mt-0 lg:max-w-none lg:mx-0 lg:col-span-6 lg:flex lg:items-center">
                    <div class="relative mx-auto w-full rounded-lg shadow-lg lg:max-w-md">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/af704d31-b43f-47ff-a9c2-77902c752001.png" alt="Happy couple in traditional Indian wedding clothes with floral decorations" class="w-full rounded-lg">
                        <div class="absolute inset-0 bg-indigo-600 opacity-20 rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search Section -->
    <div class="bg-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                    Search Intelligent Matches
                </h2>
                <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">
                    Our advanced matching algorithm helps you find compatible partners effortlessly
                </p>
            </div>
            
            <div class="mt-12 bg-white rounded-lg shadow-lg p-6">
                <div class="flex border-b border-gray-200">
                    <button class="py-2 px-4 font-medium text-gray-500 border-b-2 border-transparent hover:text-indigo-600 hover:border-indigo-500">Bride</button>
                    <button class="py-2 px-4 font-medium text-indigo-600 border-b-2 border-indigo-500">Groom</button>
                </div>
                <form id="searchForm" class="mt-6 grid grid-cols-1 gap-y-6 sm:grid-cols-6 sm:gap-x-6" onsubmit="searchMatches(event)">
                    <div class="sm:col-span-2">
                        <label for="religion" class="block text-sm font-medium text-gray-700">Religion</label>
                        <select id="religion" name="religion" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <option>Hindu</option>
                            <option>Muslim</option>
                            <option>Christian</option>
                            <option>Sikh</option>
                            <option>Jain</option>
                            <option>Buddhist</option>
                            <option>Other</option>
                        </select>
                    </div>

                    <div class="sm:col-span-2">
                        <label for="caste" class="block text-sm font-medium text-gray-700">Caste</label>
                        <select id="caste" name="caste" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <option>Brahmin</option>
                            <option>Kshatriya</option>
                            <option>Vaishya</option>
                            <option>Shudra</option>
                            <option>Nair</option>
                            <option>Iyengar</option>
                            <option>Reddy</option>
                            <option>Vellalar</option>
                            <option>Other</option>
                        </select>
                    </div>

                    <div class="sm:col-span-2">
                        <label for="marital-status" class="block text-sm font-medium text-gray-700">Marital Status</label>
                        <select id="marital-status" name="marital-status" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <option>Unmarried</option>
                            <option>Divorced</option>
                            <option>Widowed</option>
                            <option>Separated</option>
                        </select>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="age" class="block text-sm font-medium text-gray-700">Age</label>
                        <div class="mt-1 flex rounded-md shadow-sm">
                            <div class="relative flex-grow focus-within:z-10">
                                <select id="age-from" name="age-from" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-3 pr-10 py-2 text-base border-gray-300 sm:text-sm rounded-l-md">
                                    <option>18</option>
                                    <option>20</option>
                                    <option>22</option>
                                    <option selected>25</option>
                                    <option>28</option>
                                    <option>30</option>
                                    <option>35</option>
                                    <option>40</option>
                                </select>
                            </div>
                            <div class="relative flex items-center justify-center px-2 border-t border-b border-gray-300 bg-gray-50">
                                <span class="text-gray-500 sm:text-sm">to</span>
                            </div>
                            <div class="relative flex-grow focus-within:z-10">
                                <select id="age-to" name="age-to" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-3 pr-10 py-2 text-base border-gray-300 sm:text-sm rounded-r-md">
                                    <option>25</option>
                                    <option selected>28</option>
                                    <option>30</option>
                                    <option>32</option>
                                    <option>35</option>
                                    <option>38</option>
                                    <option>40</option>
                                    <option>45</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="sm:col-span-3">
                        <label for="country" class="block text-sm font-medium text-gray-700">Country Living In</label>
                        <select id="country" name="country" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <option>India</option>
                            <option>USA</option>
                            <option>UK</option>
                            <option>Canada</option>
                            <option>Australia</option>
                            <option>UAE</option>
                            <option>Other</option>
                        </select>
                    </div>

                    <div class="sm:col-span-6">
                        <div class="flex justify-end">
                            <button type="button" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Reset
                            </button>
                            <button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Search Matches
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="bg-gray-50 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                    Why Choose Kalyana Vaibhogam?
                </h2>
                <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">
                    India's most trusted matrimony service with verified profiles
                </p>
            </div>
            
            <div class="mt-10">
                <div class="grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-4">
                    <div class="bg-white overflow-hidden shadow rounded-lg">
                        <div class="p-5">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-shield-alt feature-icon text-4xl"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dt class="text-lg font-medium text-gray-900">
                                        Verified Profiles
                                    </dt>
                                    <dd class="mt-1 text-sm text-gray-500">
                                        All profiles are manually verified by our team
                                    </dd>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white overflow-hidden shadow rounded-lg">
                        <div class="p-5">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-search feature-icon text-4xl"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dt class="text-lg font-medium text-gray-900">
                                        Advanced Matching
                                    </dt>
                                    <dd class="mt-1 text-sm text-gray-500">
                                        Sophisticated algorithms for perfect matches
                                    </dd>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white overflow-hidden shadow rounded-lg">
                        <div class="p-5">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-user-shield feature-icon text-4xl"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dt class="text-lg font-medium text-gray-900">
                                        Privacy Control
                                    </dt>
                                    <dd class="mt-1 text-sm text-gray-500">
                                        Complete control over who sees your profile
                                    </dd>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white overflow-hidden shadow rounded-lg">
                        <div class="p-5">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-headset feature-icon text-4xl"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dt class="text-lg font-medium text-gray-900">
                                        24/7 Support
                                    </dt>
                                    <dd class="mt-1 text-sm text-gray-500">
                                        Dedicated customer care always available
                                    </dd>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Astrology Matching -->
    <div class="bg-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                    Astrology Matching
                </h2>
                <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">
                    Compatibility verified through Vedic astrology for auspicious matches
                </p>
            </div>
            <div class="mt-10 flex flex-wrap justify-center">
                <div class="w-full md:w-1/2 lg:w-1/3 p-4">
                    <div class="bg-white rounded-lg shadow-md p-6 h-full">
                        <div class="text-center">
                            <i class="fas fa-star text-yellow-400 text-4xl"></i>
                            <h3 class="mt-4 text-xl font-medium text-gray-900">Basic Matching</h3>
                            <p class="mt-2 text-sm text-gray-600">Get basic horoscope compatibility analysis</p>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/2 lg:w-1/3 p-4">
                    <div class="bg-white rounded-lg shadow-md p-6 h-full">
                        <div class="text-center">
                            <i class="fas fa-moon text-indigo-500 text-4xl"></i>
                            <h3 class="mt-4 text-xl font-medium text-gray-900">Detailed Analysis</h3>
                            <p class="mt-2 text-sm text-gray-600">Full kundali matching with 36 gunas analysis</p>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/2 lg:w-1/3 p-4">
                    <div class="bg-white rounded-lg shadow-md p-6 h-full">
                        <div class="text-center">
                            <i class="fas fa-gem text-purple-500 text-4xl"></i>
                            <h3 class="mt-4 text-xl font-medium text-gray-900">Remedy Consultation</h3>
                            <p class="mt-2 text-sm text-gray-600">Personalized remedies from expert astrologers</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Stories -->
    <div class="bg-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                    10,000+ Happy Couples & Counting
                </h2>
                <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">
                    Thousands of happy couples found their soulmates through Kalyana Vaibhogam
                </p>
            </div>
            
            <div id="successStories" class="mt-10 grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-3">
                <div class="overflow-hidden rounded-lg shadow-lg">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3ec01443-9d28-4fd4-a06f-2f77353b3c70.png" alt="North Indian couple - Rajesh in embroidered sherwani holding hands with Priya in red bridal lehenga with golden jewelry" class="w-full h-48 object-cover">
                    <div class="px-6 py-4">
                        <h3 class="text-lg font-medium text-gray-900">Rajesh & Priya</h3>
                        <p class="mt-1 text-sm text-gray-500">Married June 2023</p>
                        <p class="mt-2 text-gray-600">"We found each other through Kalyana Vaibhogam and couldn't be happier. The matching algorithm was spot on!"</p>
                    </div>
                </div>
                
                <div class="overflow-hidden rounded-lg shadow-lg">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/2f9ebba0-9d34-4e5c-9c21-8e9c3949ea60.png" alt="South Indian couple - Arjun in white veshti with gold border and Meera in royal blue kanjeevaram saree with temple jewelry" class="w-full h-48 object-cover">
                    <div class="px-6 py-4">
                        <h3 class="text-lg font-medium text-gray-900">Arjun & Meera</h3>
                        <p class="mt-1 text-sm text-gray-500">Married November 2022</p>
                        <p class="mt-2 text-gray-600">"After many failed matches elsewhere, Kalyana Vaibhogam helped us connect based on our real values and interests."</p>
                    </div>
                </div>
                
                <div class="overflow-hidden rounded-lg shadow-lg">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/91d25214-80ac-44b1-b876-a709981f48b8.png" alt="Modern NRI couple - Vikram in navy blue tuxedo and Ananya in champagne colored fusion lehenga in western reception setting" class="w-full h-48 object-cover">
                    <div class="px-6 py-4">
                        <h3 class="text-lg font-medium text-gray-900">Vikram & Ananya</h3>
                        <p class="mt-1 text-sm text-gray-500">Married March 2023</p>
                        <p class="mt-2 text-gray-600">"The community features helped us get to know each other before meeting in person. Highly recommend!"</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-10 text-center">
                <a href="#" class="inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200">
                    View All Success Stories
                    <i class="fas fa-chevron-right ml-2"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Video Profiles -->
    <div class="bg-indigo-50 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                    Video Profiles
                </h2>
                <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">
                    Get to know potential matches better through personalized video introductions
                </p>
            </div>
            <div id="videoProfiles" class="mt-10 grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-3">
                <div class="bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="aspect-w-16 aspect-h-9">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/6fa1378d-4651-4fc4-a6b1-c84ce4443590.png" alt="Bride video profile" class="w-full h-full object-cover">
                    </div>
                    <div class="px-6 py-4">
                        <div class="flex items-center">
                            <img class="h-10 w-10 rounded-full mr-3" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/cad7df1e-9bfb-4fbb-a1d1-89dd60e3132d.png" alt="Profile photo">
                            <div>
                                <h3 class="text-lg font-medium text-gray-900">Priya, 27</h3>
                                <p class="text-sm text-gray-500">Bangalore</p>
                            </div>
                        </div>
                        <button class="mt-4 w-full bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700">
                            Play Introduction
                        </button>
                    </div>
                </div>
                <!-- Repeat similar blocks for 2 more video profiles -->
            </div>
        </div>
    </div>

    <!-- Membership Plans -->
    <div class="bg-gray-50 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                    Membership Plans
                </h2>
                <p class="mt-4 max-w-2xl text-xl text-gray-500 mx-auto">
                    Choose the plan that fits your needs
                </p>
            </div>
            
            <div class="mt-12 space-y-8 sm:space-y-0 sm:grid sm:grid-cols-3 sm:gap-8 lg:max-w-4xl lg:mx-auto">
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="px-6 py-8">
                        <h3 class="text-lg font-medium text-gray-900">Free</h3>
                        <div class="mt-4 flex items-baseline">
                            <span class="text-5xl font-extrabold tracking-tight">â¹0</span>
                            <span class="ml-1 text-lg font-medium text-gray-500">/month</span>
                        </div>
                        <p class="mt-3 text-sm text-gray-500">For exploring the platform</p>
                    </div>
                    <div class="px-6 pt-6 pb-8 bg-gray-50">
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Basic Profile</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Limited Matches</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">View Basic Profiles</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-times-circle text-gray-400"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-500">Express Interest</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-times-circle text-gray-400"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-500">Priority Listing</p>
                            </li>
                        </ul>
                        <div class="mt-8">
                            <button class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded">
                                Current Plan
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg overflow-hidden border-2 border-indigo-500 transform scale-105 relative">
                    <div class="absolute top-0 left-0 px-3 py-1 bg-indigo-500 text-white text-xs font-bold uppercase tracking-wider">
                        Popular
                    </div>
                    <div class="px-6 py-8">
                        <h3 class="text-lg font-medium text-gray-900">Premium</h3>
                        <div class="mt-4 flex items-baseline">
                            <span class="text-5xl font-extrabold tracking-tight">â¹899</span>
                            <span class="ml-1 text-sm line-through text-gray-400">â¹1499</span>
                            <span class="ml-1 text-lg font-medium text-gray-500">/month</span>
                        </div>
                        <p class="mt-3 text-sm text-gray-500">For serious seekers</p>
                    </div>
                    <div class="px-6 pt-6 pb-8 bg-gray-50">
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">All Free Features</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Unlimited Matches</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Express Interest</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Priority Listing</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Advanced Filters</p>
                            </li>
                        </ul>
                        <div class="mt-8">
                            <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded">
                                Upgrade Now
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="px-6 py-8">
                        <h3 class="text-lg font-medium text-gray-900">VIP</h3>
                        <div class="mt-4 flex items-baseline">
                            <span class="text-5xl font-extrabold tracking-tight">â¹2,499</span>
                            <span class="ml-1 text-lg font-medium text-gray-500">/month</span>
                        </div>
                        <p class="mt-3 text-sm text-gray-500">For those who want priority service</p>
                    </div>
                    <div class="px-6 pt-6 pb-8 bg-gray-50">
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">All Premium Features</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Personal Matchmaker</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Profile Highlight</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Priority Customer Support</p>
                            </li>
                            <li class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                </div>
                                <p class="ml-3 text-sm text-gray-700">Background Verification</p>
                            </li>
                        </ul>
                        <div class="mt-8">
                            <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded">
                                Upgrade Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 text-center">
                <p class="text-sm text-gray-500">Not sure which plan to choose? <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500">Compare all plans</a></p>
            </div>
        </div>
    </div>

    <!-- Testimonials -->
    <div class="bg-indigo-700 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
                    What Parents Say
                </h2>
                <p class="mt-4 max-w-2xl text-xl text-indigo-200 mx-auto">
                    Trusted by families across India for generations
                </p>
            </div>
            
            <div class="mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
                <div class="bg-white pt-6 pb-8 px-6 rounded-lg shadow-lg">
                    <div class="flex items-center justify-center">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/e23062c6-bac4-4584-a648-49baaf932594.png" alt="Smiling Indian father in traditional kurta wearing glasses" class="h-16 w-16 rounded-full">
                    </div>
                    <blockquote class="mt-6">
                        <p class="text-gray-600 text-sm">"After months of searching, we found the perfect match for our daughter within 2 weeks of joining Kalyana Vaibhogam. Their verification process gave us peace of mind."</p>
                    </blockquote>
                    <div class="mt-6">
                        <footer class="text-center">
                            <p class="text-base font-medium text-gray-900">Mr. Sharma</p>
                            <p class="text-sm text-gray-500">New Delhi</p>
                        </footer>
                    </div>
                </div>
                
                <div class="bg-white pt-6 pb-8 px-6 rounded-lg shadow-lg">
                    <div class="flex items-center justify-center">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/50e52224-f717-461b-9346-aa7629251682.png" alt="Happy Indian mother wearing saree with traditional jewelry" class="h-16 w-16 rounded-full">
                    </div>
                    <blockquote class="mt-6">
                        <p class="text-gray-600 text-sm">"The professional matchmakers at Kalyana Vaibhogam understood our family values and traditions. They introduced us to families that truly matched our expectations."</p>
                    </blockquote>
                    <div class="mt-6">
                        <footer class="text-center">
                            <p class="text-base font-medium text-gray-900">Mrs. Patel</p>
                            <p class="text-sm text-gray-500">Mumbai</p>
                        </footer>
                    </div>
                </div>
                
                <div class="bg-white pt-6 pb-8 px-6 rounded-lg shadow-lg">
                    <div class="flex items-center justify-center">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4a4334e0-e024-43b2-af5a-afba91937016.png" alt="Elderly couple in traditional South Indian attire standing together" class="h-16 w-16 rounded-full">
                    </div>
                    <blockquote class="mt-6">
                        <p class="text-gray-600 text-sm">"As NRIs, we needed a platform that could bridge the distance gap. Kalyana Vaibhogam helped us find matches from our community back home with detailed profiles."</p>
                    </blockquote>
                    <div class="mt-6">
                        <footer class="text-center">
                            <p class="text-base font-medium text-gray-900">Mr. & Mrs. Iyer</p>
                            <p class="text-sm text-gray-500">Chennai / Texas</p>
                        </footer>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile App CTA -->
    <div class="bg-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-indigo-50 rounded-lg overflow-hidden lg:grid lg:grid-cols-2 lg:gap-4">
                <div class="pt-10 pb-12 px-6 sm:pt-16 sm:px-16 lg:py-16 lg:pr-0 xl:py-20 xl:px-20">
                    <div class="lg:self-center">
                        <h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
                            <span class="block">Download Our</span>
                            <span class="block text-indigo-600">Mobile App</span>
                        </h2>
                        <p class="mt-4 text-lg leading-6 text-gray-500">
                            Find your perfect match anytime, anywhere with our feature-rich mobile application
                        </p>
                        <div class="mt-8 flex flex-wrap space-y-3 sm:space-y-0 sm:space-x-3">
                            <a href="#" class="flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0">
                                        <i class="fab fa-google-play h-5 w-5"></i>
                                    </div>
                                    <div class="ml-3">
                                        <div class="text-xs">Get it on</div>
                                        <div class="text-sm font-bold">Google Play</div>
                                    </div>
                                </div>
                            </a>
                            <a href="#" class="flex items-center justify-center px-4 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-indigo-800 bg-gray-100 hover:bg-gray-200">
                                <div class="flex items-center">
                                    <div class="flex-shrink-0">
                                        <i class="fab fa-apple h-5 w-5"></i>
                                    </div>
                                    <div class="ml-3">
                                        <div class="text-xs">Download on the</div>
                                        <div class="text-sm font-bold">App Store</div>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="mt-6 text-sm text-gray-500">
                            Scan to download:
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/94b24513-e931-463e-a337-48d2297ee6f8.png" alt="QR code for Kalyana Vaibhogam mobile app download" class="mt-1 h-20 w-20 object-contain">
                        </div>
                    </div>
                </div>
                <div class="flex justify-center items-center p-6">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/5be042b1-9e91-4b3b-953c-b4f33fdd94b4.png" alt="Smartphone displaying Kalyana Vaibhogam mobile app interface with matrimonial profiles" class="w-full max-w-md h-auto">
                </div>
            </div>
        </div>
    </div>

    <!-- Premium Matchmaking -->
    <div class="bg-indigo-900 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:grid lg:grid-cols-2 lg:gap-8">
                <div class="lg:col-span-1">
                    <h2 class="text-3xl font-extrabold sm:text-4xl">
                        <span class="block">Premium Matchmaking</span>
                        <span class="block text-indigo-300">Service</span>
                    </h2>
                    <p class="mt-3 text-lg text-indigo-200">
                        Let our expert matchmakers personally curate matches based on your preferences
                    </p>
                    <div class="mt-8">
                        <div class="rounded-md bg-white shadow-lg p-6 text-gray-800">
                            <h3 class="text-lg font-medium">What's included:</h3>
                            <ul class="mt-4 space-y-2">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Dedicated relationship manager</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Manual profile screening and shortlisting</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Priority access to new profiles</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Background verification included</span>
                                </li>
                            </ul>
                            <button class="mt-6 w-full bg-indigo-600 text-white py-3 px-6 rounded-md hover:bg-indigo-700">
                                Speak to Matchmaker
                            </button>
                        </div>
                    </div>
                </div>
                <div class="mt-12 lg:mt-0 lg:col-span-1 flex items-center">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/76925a88-bcd7-42b6-adea-cad7d215d1bd.png" alt="Professional matchmaker discussing with client" class="rounded-lg shadow-lg">
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 gap-8 md:grid-cols-4">
                <div>
                    <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase">Company</h3>
                    <ul class="mt-4 space-y-2">
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Press</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Careers</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase">Legal</h3>
                    <ul class="mt-4 space-y-2">
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Privacy Policy</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Terms of Use</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Refund Policy</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Fraud Alert</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase">Help</h3>
                    <ul class="mt-4 space-y-2">
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">FAQ</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Safety Tips</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Grievance Officer</a></li>
                        <li><a href="#" class="text-base text-gray-400 hover:text-white">Feedback</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase">Follow Us</h3>
                    <div class="mt-4 flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="https://wa.me/919876543210" class="text-gray-400 hover:text-white">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                    <div class="mt-4">
                        <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase">Subscribe</h3>
                        <p class="mt-2 text-sm text-gray-400">Get the latest updates</p>
                        <div class="mt-2 flex">
                            <input type="email" placeholder="Your email" class="px-4 py-2 border border-gray-600 bg-gray-700 text-white rounded-l-md text-sm focus:outline-none focus:border-indigo-500" />
                            <button class="px-4 py-2 border border-transparent text-sm font-medium rounded-r-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none">
                                Subscribe
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-12 border-t border-gray-700 pt-8">
                <div class="flex justify-center space-x-8 mb-8">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/b2994553-06db-425f-a041-95b370a16ae5.png" alt="ISO Certified" class="h-16">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/7ec791ef-d882-4f3e-a148-7a56bb489ebf.png" alt="100% Verified Profiles" class="h-16">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/8342faf1-83f1-4923-9e62-b02bb7c932a0.png" alt="PCI Compliant Payments" class="h-16">
                </div>
            </div>
            <div class="border-t border-gray-700 pt-8 md:flex md:items-center md:justify-between">
                <div class="flex justify-center space-x-6 md:order-2">
                    <a href="#" class="text-gray-400 hover:text-white">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                </div>
                <p class="mt-8 text-center text-base text-gray-400 md:mt-0 md:order-1">
                    Â© 2023 Kalyana Vaibhogam. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Mobile Menu (hidden by default) -->
    <div id="mobile-menu" class="hidden fixed inset-0 bg-white z-50 overflow-y-auto">
        <div class="px-4 pt-5 pb-6">
            <div class="flex items-center justify-between">
                <div class="flex-shrink-0">
                    <span class="text-xl font-bold text-indigo-600">Kalyana Vaibhogam</span>
                </div>
                <div class="-mr-2">
                    <button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" onclick="closeMobileMenu()">
                        <span class="sr-only">Close menu</span>
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="mt-6">
                <nav class="grid gap-y-8">
                    <a href="#" class="-m-3 p-3 flex items-center rounded-md hover:bg-gray-50">
                        <span class="ml-3 text-base font-medium text-gray-900">Home</span>
                    </a>
                    <a href="#" class="-m-3 p-3 flex items-center rounded-md hover:bg-gray-50">
                        <span class="ml-3 text-base font-medium text-gray-900">Search</span>
                    </a>
                    <a href="#" class="-m-3 p-3 flex items-center rounded-md hover:bg-gray-50">
                        <span class="ml-3 text-base font-medium text-gray-900">Matches</span>
                    </a>
                    <a href="#" class="-m-3 p-3 flex items-center rounded-md hover:bg-gray-50">
                        <span class="ml-3 text-base font-medium text-gray-900">Community</span>
                    </a>
                    <a href="#" class="-m-3 p-3 flex items-center rounded-md hover:bg-gray-50">
                        <span class="ml-3 text-base font-medium text-gray-900">Pricing</span>
                    </a>
                </nav>
            </div>
            <div class="mt-6">
                <button class="w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700">Login / Register</button>
            </div>
        </div>
    </div>

    <!-- OTP Modal -->
    <div id="otpModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-sm w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-medium text-gray-900">Enter Mobile Number</h3>
                <button onclick="hideOTPModal()" class="text-gray-400 hover:text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700">Mobile Number</label>
                    <input type="tel" id="mobileNumber" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Enter 10 digit mobile number" pattern="[0-9]{10}" required>
                </div>
                <div id="recaptcha-container"></div> <!-- reCAPTCHA container -->
                <div id="otpField" class="hidden">
                    <label class="block text-sm font-medium text-gray-700">OTP</label>
                    <input type="text" id="otpInput" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Enter 6 digit OTP" pattern="[0-9]{6}">
                </div>
                <div class="flex justify-between">
                    <button onclick="sendOTP()" id="sendOTPBtn" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">Send OTP</button>
                    <button onclick="verifyOTP()" id="verifyOTPBtn" class="hidden px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">Verify OTP</button>
                </div>
            </div>
        </div>
    </div>

<!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<!-- Firebase Authentication -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<!-- Firebase Firestore -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<script>
  // Your Firebase config from Step 2
  const firebaseConfig = {
    apiKey: "AIzaSyDAm-ZDArqAZ-jnzIZxvSYkr8TM5EE1CQs",
    authDomain: "kalyana-vaibhogam.firebaseapp.com",
    projectId: "kalyana-vaibhogam",
    storageBucket: "kalyana-vaibhogam.appspot.com",
    messagingSenderId: "821056424803",
    appId: "1:821056424803:web:9b76ed6beac579d85c6156"
  };

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // Track auth state changes
  auth.onAuthStateChanged((user) => {
    if (user) {
      console.log('User is signed in:', user);
      // Update UI for logged in state
      document.querySelector('.login-btn').textContent = 'My Account';
    } else {
      console.log('User is signed out');
      // Update UI for logged out state
    }
  });

  // Initialize reCAPTCHA verifier globally
  window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
    'size': 'invisible',
    'callback': () => console.log('reCAPTCHA solved'),
    'expired-callback': () => console.log('reCAPTCHA expired')
  });

  // Mobile menu functionality
  const mobileMenu = {
    isOpen: false,
    
    toggle() {
      this.isOpen = !this.isOpen;
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
      
      // Prevent scrolling when open
      document.body.style.overflow = this.isOpen ? 'hidden' : '';
    },
    
    close() {
      this.isOpen = false;
      document.getElementById('mobile-menu').classList.add('hidden');
      document.body.style.overflow = '';
    }
  };
  
  // Backend API calls
  document.addEventListener('DOMContentLoaded', function() {
      // Load success stories
      fetch('/api/success_stories')
        .then(res => res.json())
        .then(stories => {
          const container = document.getElementById('successStories');
          container.innerHTML = stories.map(story => `
            <div class="overflow-hidden rounded-lg shadow-lg">
              <img src="${story.image}" alt="${story.altText}" class="w-full h-48 object-cover">
              <div class="px-6 py-4">
                <h3 class="text-lg font-medium text-gray-900">${story.coupleNames}</h3>
                <p class="mt-1 text-sm text-gray-500">Married ${story.marriedDate}</p>
                <p class="mt-2 text-gray-600">"${story.testimonial}"</p>
              </div>
            </div>
          `).join('');
        });

      // Load video profiles
      fetch('/api/video_profiles')
        .then(res => res.json())
        .then(profiles => {
          const container = document.getElementById('videoProfiles');
          container.innerHTML = profiles.map(profile => `
            <div class="bg-white rounded-lg overflow-hidden shadow-lg">
              <div class="aspect-w-16 aspect-h-9">
                <img src="${profile.thumbnail}" alt="${profile.name} video profile" class="w-full h-full object-cover">
              </div>
              <div class="px-6 py-4">
                <div class="flex items-center">
                  <img class="h-10 w-10 rounded-full mr-3" src="${profile.avatar}" alt="Profile photo">
                  <div>
                    <h3 class="text-lg font-medium text-gray-900">${profile.name}, ${profile.age}</h3>
                    <p class="text-sm text-gray-500">${profile.location}</p>
                  </div>
                </div>
                <button class="mt-4 w-full bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700" 
                        onclick="playVideo('${profile.videoId}')">
                  Play Introduction
                </button>
              </div>
            </div>
          `).join('');
        });

      // Handle form submission
      window.searchMatches = async function(e) {
        e.preventDefault();
        const formData = new FormData(document.getElementById('searchForm'));
        const params = new URLSearchParams(formData);
        
        try {
          const response = await fetch(`/api/search?${params}`);
          const results = await response.json();
          // Render search results
          console.log(results);
          // Redirect to results page or display in modal
        } catch (error) {
          console.error('Search error:', error);
          showToast('Search failed. Please try again.', true);
        }
      };

      // Handle profile creation
      document.getElementById('createProfileBtn').addEventListener('click', () => {
        if (auth.currentUser) {
          window.location.href = '/profile/create';
        } else {
          showOTPModal();
        }
      });
      console.log('Kalyana Vaibhogam website loaded');
      
      // Initialize reCAPTCHA Verifier when the page loads
      // This ensures the reCAPTCHA widget is ready when the OTP modal is shown
      window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
          'size': 'invisible', // You can change this to 'normal' for a visible reCAPTCHA
          'callback': (response) => {
              // reCAPTCHA solved, allow signInWithPhoneNumber.
              // This callback is usually not needed for 'invisible' size
          },
          'expired-callback': () => {
              // Response expired. Ask user to solve reCAPTCHA again.
              alert('reCAPTCHA expired. Please try again.');
              sendOTPBtn.disabled = false;
          }
      });
      recaptchaVerifier.render().then(function(widgetId) {
          // The reCAPTCHA widget has been rendered.
          // You can store the widgetId if you need to reset it later.
      });

      // Registration form validation example (original placeholder)
      const registrationForm = document.createElement('form');
      registrationForm.id = 'registration-form';
      registrationForm.innerHTML = `
          <div class="mb-4">
              <label class="block text-gray-700 text-sm font-bold mb-2" for="name">
                  Full Name
              </label>
              <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="name" type="text" placeholder="Enter your full name" required>
          </div>
          <!-- More form fields would go here -->
      `;
      
      // Membership plan selection (original placeholder)
      document.querySelectorAll('.membership-plan button').forEach(button => {
          button.addEventListener('click', function() {
              // alert('Membership plan selected. This would connect to payment processing.');
          });
      });
      
      // Mobile app download buttons (original placeholder)
      document.querySelectorAll('.app-download').forEach(button => {
          button.addEventListener('click', function() {
              // Analytics tracking and app store redirects would go here
              console.log('App download initiated');
          });
      });
  });

  // Video player function
  window.playVideo = function(videoId) {
    // Open video modal or redirect to video page
    console.log('Playing video:', videoId);
  };

  // Toast notification function
  function showToast(message, isError = false) {
    const toast = document.createElement('div');
    toast.className = `fixed bottom-4 right-4 px-4 py-2 rounded shadow-lg ${
      isError ? 'bg-red-500' : 'bg-green-500'
    } text-white`;
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.classList.add('opacity-0', 'transition-opacity', 'duration-300');
      setTimeout(() => toast.remove(), 300);
    }, 3000);
  }

  // Toast notification function
  function showToast(message, isError = false) {
    const toast = document.createElement('div');
    toast.className = `fixed bottom-4 right-4 px-4 py-2 rounded shadow-lg ${
      isError ? 'bg-red-500' : 'bg-green-500'
    } text-white`;
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.classList.add('opacity-0', 'transition-opacity', 'duration-300');
      setTimeout(() => toast.remove(), 300);
    }, 3000);
  }

  // Toast notification function
  function showToast(message, isError = false) {
    const toast = document.createElement('div');
    toast.className = `fixed bottom-4 right-4 px-4 py-2 rounded shadow-lg ${
      isError ? 'bg-red-500' : 'bg-green-500'
    } text-white`;
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.classList.add('opacity-0', 'transition-opacity', 'duration-300');
      setTimeout(() => toast.remove(), 300);
    }, 3000);
  }

  // Toast notification function
  function showToast(message, isError = false) {
    const toast = document.createElement('div');
    toast.className = `fixed bottom-4 right-4 px-4 py-2 rounded shadow-lg ${
      isError ? 'bg-red-500' : 'bg-green-500'
    } text-white`;
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.classList.add('opacity-0', 'transition-opacity', 'duration-300');
      setTimeout(() => toast.remove(), 300);
    }, 3000);
  }

  // OTP functionality
  function showOTPModal() {
      document.getElementById('otpModal').classList.remove('hidden');
      // Reset modal state
      document.getElementById('mobileNumber').value = '';
      document.getElementById('otpInput').value = '';
      document.getElementById('otpField').classList.add('hidden');
      document.getElementById('verifyOTPBtn').classList.add('hidden');
      document.getElementById('sendOTPBtn').classList.remove('hidden');
      // If reCAPTCHA is visible, reset it
      if (window.recaptchaVerifier && window.recaptchaVerifier.reset) {
          window.recaptchaVerifier.reset();
      }
  }
  
  function hideOTPModal() {
      document.getElementById('otpModal').classList.add('hidden');
  }
  
  async function sendOTP() {
      const mobileNumberInput = document.getElementById('mobileNumber');
      const mobileNumber = mobileNumberInput.value;
      const sendOTPBtn = document.getElementById('sendOTPBtn');

      if (!mobileNumber || !/^\d{10}$/.test(mobileNumber)) {
          alert('Please enter a valid 10 digit mobile number.');
          return;
      }

      // Disable button to prevent multiple clicks
      sendOTPBtn.disabled = true;
      sendOTPBtn.textContent = 'Sending...';

      const phoneNumber = '+91' + mobileNumber; // Assuming Indian numbers, add country code

      try {
          window.confirmationResult = await auth.signInWithPhoneNumber(phoneNumber, window.recaptchaVerifier);
          
          // Update UI
          document.getElementById('otpField').classList.remove('hidden');
          document.getElementById('verifyOTPBtn').classList.remove('hidden');
          sendOTPBtn.classList.add('hidden'); 
          sendOTPBtn.disabled = false;
          
          // Show success toast instead of alert
          showToast('OTP has been sent to ' + mobileNumber);
          
      } catch (error) {
          console.error("Error sending OTP:", error);
          sendOTPBtn.disabled = false;
          sendOTPBtn.textContent = 'Send OTP';
          
          // Show error toast
          showToast('Failed to send OTP: ' + error.message, true);
          
          if (window.recaptchaVerifier?.reset) {
              window.recaptchaVerifier.reset();
          }
      }
  }
  
  async function verifyOTP() {
      const otpInput = document.getElementById('otpInput');
      const otp = otpInput.value;
      const verifyOTPBtn = document.getElementById('verifyOTPBtn');

      if (!otp || !/^\d{6}$/.test(otp)) {
          alert('Please enter the 6 digit OTP.');
          return;
      }

      if (!window.confirmationResult) {
          alert('Please send OTP first.');
          return;
      }

      // Disable button to prevent multiple clicks
      verifyOTPBtn.disabled = true;
      verifyOTPBtn.textContent = 'Verifying...';

      try {
          const userCredential = await window.confirmationResult.confirm(otp);
          const user = userCredential.user;
          console.log('User signed in successfully:', user);
          // Save minimal user data to Firestore
          await db.collection('users').doc(user.uid).set({
            phoneNumber: user.phoneNumber,
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
            profileComplete: false
          }, { merge: true });

          hideOTPModal();
          showToast('Login successful!');
          window.location.href = '/dashboard.html';
      } catch (error) {
          console.error("Error verifying OTP:", error);
          alert('Failed to verify OTP: ' + error.message);
          verifyOTPBtn.disabled = false;
          verifyOTPBtn.textContent = 'Verify OTP';
      }
  }
</script>
  
</body>
</html>
